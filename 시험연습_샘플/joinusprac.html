<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table{
            width: 800px;
            border: 1px solid black;
            border-collapse: collapse;
        }

        th{
            text-align: center;
            background-color: aquamarine;
            border: 1px solid black;
            height: 50px;
        }

        td{
            border: 1px solid black;
            padding-left: 20px;
        }

        td input{
            padding: 10px;
        }

        #error{
            color: red;
        }

        span{
            font-size: 14px;
        }

        select{
            padding: 10px;
        }

        .grade select{
            padding: 10px;
            width: 100px;
        }

        .join-btn{
            text-align: center;
        }

        .join-btn button{
            padding: 10px;
            width: 100px;
            margin:10px 10px;
            border: none;
            border-radius: 10px;
        }

        
    </style>

    
</head>
<body>
    <div class="wrap">
        <table>
            <caption>회원가입</caption>
            <tr>
                <th>이름</th>
                <td><input type="text" id="yName">
                <span id="error"></span></td>
            </tr>
            <tr>
                <th>아이디</th>
                <td><input type="text" id="yId">
                    <span id="error"></span></td>
            </tr>
            <tr>
                <th>비밀번호</th>
                <td><input type="password" id="yPw">
                    <span id="error">※비밀번호는 7자리 이상 입력하세요</span></td>
            </tr>
            <tr>
                <th>비밀번호확인</th>
                <td><input type="password" id="pw-confirm">
                    <span id="error"></span></td>
            </tr>
            <tr>
                <th>이메일</th>
                    <td><input type="text" id="yEmail">@<input type="text" id="your-domain">
                    <select id="domain">
                        <option>선택하세요</option>
                        <option>google.com</option>
                        <option>naver.com</option>
                        <option>daum.net</option>
                    </select>
                    <span id="error"></span>
                </td>
            </tr>
            <tr>
                <th>학년/반</th>
                <td class="grade">
                    <select>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                    </select>힉년
                    <select>
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                    </select>반
                </td>
            </tr>
            <tr>
                <td colspan="2" class="join-btn">
                    <button onclick="validlogin()">가입</button>
                    <button>취소</button>
                </td>
            </tr>
        </table>
    </div>

    <script>
        function validlogin(){
            let isValid = true;
            document.querySelectorAll(".error").forEach(error=>error.textContent="")

            const username = document.getElementById("yName")
            const userid = document.getElementById("yId")
            const userpw = document.getElementById("yPw")
            const userpw_confirm = document.getElementById("pw-confirm")
            const useremail = document.getElementById("yEmail")
            const your_domain = document.getElementById("your-domain")

            if(username.value===""){
                username.nextElementSibling.textContent="※이름을 입력하세요"
                alert("이름을 입력하세요")
                username.focus();
                isValid=false;
            }
            if(userid===""){
                username.nextElementSibling.textContent="※아이디를 입력하세요"
                alert("아이디를 입력하세요")
                userid.focus();
                isValid=false;
            }
            if(userpw.value.length<6){
                userpw.nextElementSibling.textContent="7자리 이상의 비밀번호를 입력하세요"
                userpw.focus();
                isValid=false;
            }
            if(userpw.value!==userpw_confirm.value){
                userpw_confirm.nextElementSibling.textContent="비밀번호가 일치하지 않습니다"
                userpw_confirm.focus();
                isValid=false;
            }
            if (useremail.value.trim() === "" || your_domain.value.trim() === "") {
                useremail.nextElementSibling.textContent = "이메일을 입력하거나 선택하세요.";
                alert("이메일을 입력하거나 선택하세요")
                isValid = false;
            }
            if(isValid){
                alert("회원가입 성공")
            }
        }

        document.getElementById("domain").addEventListener("change",function(){
            document.getElementById("your-domain").value=this.value;
        })    
    </script>
</body>
</html>